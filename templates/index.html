<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Request</title>
    <link rel="stylesheet" type="text/css" href="../static/styles.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <h1>UCI Course Search</h1>

    <div>
      <i>
        <u><p id="currentTime"></p></u>
      </i>
    </div>

    <div>
      <p>Please enter course code to check status.</p>
      <label for="content">Course Code:</label>
      <input type="text" id="content" name="content" required />
      <button id="sendBtn">Send</button>
    </div>
    <div id="results">
      <!-- Result placeholders -->
    </div>

    <form
      id="subscribeForm"
      action="{{ url_for('subscribe') }}"
      method="post"
      style="display: none"
    >
      <p>
        You can get email when the status of this class changes from FULL to
        OPEN or when a waitlist spot becomes available, you will receive a
        notification email.
      </p>
      <input type="hidden" id="code" name="content" />
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required />

      <br />
      <button type="submit">Subscribe</button>
    </form>

    {% with messages = get_flashed_messages() %} {% if messages %}
    <ul>
      {% for message in messages %}
      <li>{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %} {% endwith %}

    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
  <footer>
    <p>
      The email can't always be sent. Please check the registration website
      periodically in case you miss a class.
    </p>
  </footer>
</html>
